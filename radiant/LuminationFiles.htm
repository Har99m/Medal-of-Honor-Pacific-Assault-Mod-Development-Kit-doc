<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="LuminationFiles_files/filelist.xml">
<title>Lumination (</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>bbilodeau</o:Author>
  <o:LastAuthor>bbilodeau</o:LastAuthor>
  <o:Revision>4</o:Revision>
  <o:TotalTime>86</o:TotalTime>
  <o:Created>2005-01-21T19:47:00Z</o:Created>
  <o:LastSaved>2005-01-21T21:24:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>770</o:Words>
  <o:Characters>4392</o:Characters>
  <o:Company>TKO Software, Inc.</o:Company>
  <o:Lines>36</o:Lines>
  <o:Paragraphs>10</o:Paragraphs>
  <o:CharactersWithSpaces>5152</o:CharactersWithSpaces>
  <o:Version>10.3501</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:16.0pt'>Lumination (.lum) Files<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:16.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal>Lumination files, also known as .lum files are used by Medal
of Honor Pacific Assault to define which lightmaps are used for what models,
and to define the point lights in the scene. Lumination files are in xml
format, and may be generated by mohradiant’s lightmap program.<span
style='mso-spacerun:yes'>  </span>If none of the models in your level have
light map materials such as “default lit lightmap” then a .lum file will not be
created by radiant. Instead, the game will use the same planar projection
lightmaps that are used for the terrain for the placed 3D models. The reason
why you would want mohradiant to generate lightmaps specific to a model is
because it may not look good with the planar projection light maps used for the
terrain. One example of this may be a building where the walls are not lit
correctly because the planer projection lightmaps map the entire wall to a
single line in the lightmap.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Since .lum files are typically generated for you by
mohradiant, the only reason you need to know about the .lum format is to place
point lights in the scene. The only light that is automatically placed in the
scene by mohradiant is the sun. If you want additional lights you will need to
add them manually to the .lum file. If no .lum file exists, you will need to
create one and save it in the proper place. Fortunately .lum files are fairly
simple to understand so this isn’t too difficult. One thing to keep in mind is
that if you re-run your lighting with mohradiant’s light mapping (bsp_lightmap)
there is a chance that the .lum file will get overwritten. Therefore when you
edit a .lum file, it’s probably a good idea to keep a copy around, so that you
can restore your edits after mohradiant has created a new .lum file.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Medal of Honor Pacific Assault will look for the .lum files
in the same folder as your maps .bsp file. That means it will typically be in
your mod’s “maps” folder or “maps\dm” folder. Here is an example of a .lum
file:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'>&lt;PERSISTENT
class=&quot;LuminationFile&quot; id=&quot;d9ec010&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span>&lt;PROP name=&quot;m_MaterialOverrides&quot;
type=&quot;PersistentList&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span>&lt;PERSISTENT class=&quot;InstanceMaterialOverride&quot;
id=&quot;f9b8ce0&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;material_name&quot;
type=&quot;emb_string&quot;&gt;&quot;2 - Default&quot;&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;texture_name&quot;<span
style='mso-tab-count:1'>      </span>type=&quot;emb_string&quot;&gt;&quot;textures/Lightmaps/1_1_c2/camp/floor.tga&quot;&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;texture_stage&quot;
type=&quot;emb_string&quot;&gt;&quot;light&quot;&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;unique_id&quot;
type=&quot;int&quot;&gt;1536&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span>&lt;/PERSISTENT&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span>&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span>&lt;PROP name=&quot;m_PointLights&quot;
type=&quot;PersistentList&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span>&lt;PERSISTENT class=&quot;PPointLight&quot;
id=&quot;d9ee420&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;m_Color&quot;
type=&quot;VECTOR4&quot;&gt;0.9 0.0 0.0 0&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;m_Falloff&quot;
type=&quot;float&quot;&gt;356.6&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;m_Intensity&quot;
type=&quot;float&quot;&gt;0.9&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>                  </span>&lt;PROP name=&quot;m_Position&quot;
type=&quot;VECTOR3&quot;&gt;-4149.0 101.0 0.0&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span>&lt;/PERSISTENT&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span>&lt;/PROP&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'>&lt;/PERSISTENT&gt;<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>If you aren’t familiar with xml format there are several
good sources for learning about it, here is one good resource: <a
href="http://www.w3schools.com/xml/">http://www.w3schools.com/xml/</a></p>

<p class=MsoNormal>Fortunately, editing .lum files won’t require too much
knowledge of xml. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>If you look at the second line of the .lum example, you can
see that the PROP node has a name attribute. In this case it is “<span
style='font-size:10.0pt;font-family:"Courier New"'>m_MaterialOverrides</span>”.
This type of node is a list of instances of material overides which describe
the lightmaps for some of the models in the level. Instances nodes are called “<span
style='font-size:10.0pt;font-family:"Courier New"'>PERSISTENT” </span>and have
the class attribute<span style='font-size:10.0pt;font-family:"Courier New"'>
“InstanceMaterialOverride”. </span>Notice that they also contain nodes for
describing the material name, the lightmap texture name, the texture stage (for
multitexturing) and the unique ID. The unique_id node refers to an object’s
unique ID which is how lightmaps get mapped to individual models. As mentioned
earlier, you should never need to change the material overrides since
mohradiant generates this information for you when it creates lightmaps for
models.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Another kind of PROP node in .lum files has the name
attribute “m_PointLights”. It’s more intereresting than material overrides
because we can use this node type to add point lights to the level. As with
material overides, m_PointLights is a list of instances, in this case the
PERSISTANT class is “PPointLight”.<span style='mso-spacerun:yes'> 
</span>PPointLights have four PROP nodes associated with them. The first is the
“m_Color” node which is a 4 element vector describing the color of the light,
with RGB values from 0 to 1. The fourth element can be left 0, since light
color is just an RGB value. Then next node is the “m_Falloff” node which
specifies how many game units away from the point light, the light will have an
effect. Objects outside the falloff radius will not be lit by the point
light.<span style='mso-spacerun:yes'>  </span>The “m_Intensity” node describes,
in values from 0 to 1, how bright the light is. The last PPointLight node is
the “m_Position” node, and as the name suggests it specifies the x,y,z
coordinates of the point light. These coordinates are the same units used by
mohradiant, so you can use mohradiant to determine what coordinates to use for
the light. In the example above, the m_PointLights list contains one red point
light with a falloff of 356.6 units and an intensity of 0.9 located at (-4149,
101, 0) in the level.</p>

</div>

</body>

</html>
